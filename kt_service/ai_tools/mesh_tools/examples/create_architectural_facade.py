from kt_service.ai_tools.mesh_tools.femm_generator import create_mesh

contours = [
        # Основной контур здания
        '0 0 0 600 0 600 400 500 400 500 450 100 450 100 400 0 400',

        # Цокольный этаж
        '1 20 20 580 20 580 100 20 100',

        # 1 этаж
        '2 20 120 580 120 580 220 20 220',

        # 2 этаж
        '3 20 240 580 240 580 340 20 340',

        # Мансарда
        '4 100 360 500 360 500 380 100 380',

        # Окна 1 этаж (6 штук)
        '5 40 140 100 140 100 200 40 200',
        '5 140 140 200 140 200 200 140 200',
        '5 240 140 300 140 300 200 240 200',
        '5 340 140 400 140 400 200 340 200',
        '5 440 140 500 140 500 200 440 200',
        '5 540 140 560 140 560 200 540 200',

        # Окна 2 этаж (5 штук, больше)
        '6 60 260 140 260 140 320 60 320',
        '6 160 260 240 260 240 320 160 320',
        '6 260 260 340 260 340 320 260 320',
        '6 360 260 440 260 440 320 360 320',
        '6 460 260 520 260 520 320 460 320',

        # Двери
        '7 250 40 350 40 350 100 250 100',

        # Декоративные колонны
        '8 120 40 140 40 140 120 120 120',
        '8 460 40 480 40 480 120 460 120',

        # Фронтон (треугольный элемент над входом)
        '9 200 120 400 120 300 160',

        # Балконы
        '10 80 220 160 220 160 240 80 240',
        '10 440 220 520 220 520 240 440 240',

        # Кровля (скаты)
        '11 0 400 600 400 550 450 50 450',
        '11 50 450 550 450 500 480 100 480',

        # Дымоход
        '12 450 360 480 360 480 420 450 420',

        # Лестница
        '13 280 20 320 20 320 0 280 0'
    ]


def create_architectural_facade(polygon):
    """Создает сложный архитектурный фасад"""
    create_mesh(['1', '1'], polygon,
                7,
                1.3, 1, True,
                show_meshing_result_method="gmsh",
                number_of_showed_class=3,
                is_saving_to_file=True,
                export_filename="tmp.txt")


if __name__ == "__main__":
    create_architectural_facade(contours)
